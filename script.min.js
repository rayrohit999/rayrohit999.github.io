 document.addEventListener('DOMContentLoaded',function(){AOS.init({duration:800,easing:'ease',once:true,mirror:false,disable:function(){return window.innerWidth < 576;}});const lazyImages = document.querySelectorAll('img[data-src]');if('IntersectionObserver' in window){const imageObserver = new IntersectionObserver((entries,observer)=>{entries.forEach(entry =>{if(entry.isIntersecting){const img = entry.target;const parent = img.parentElement;if(parent.classList.contains('project-img')){parent.classList.add('loading');}img.src = img.dataset.src;img.onload = function(){img.removeAttribute('data-src');if(parent.classList.contains('loading')){parent.classList.remove('loading');}};imageObserver.unobserve(img);}});});lazyImages.forEach(img =>{imageObserver.observe(img);});}else{lazyImages.forEach(img =>{img.src = img.dataset.src;});}function handleResponsiveImages(){const projectImages = document.querySelectorAll('.project-img img');projectImages.forEach(img =>{if(img.complete){img.parentElement.classList.remove('loading');}else{img.parentElement.classList.add('loading');img.onload = function(){img.parentElement.classList.remove('loading');};}});}handleResponsiveImages();window.addEventListener('resize',handleResponsiveImages);const typedTextSpan = document.querySelector('.typed-text');const cursorSpan = document.querySelector('.cursor');const textArray =['Full Stack Developer','ML Engineer','Software Engineer','Problem Solver','Gold Medallist'];const typingDelay = 100;const erasingDelay = 50;const newTextDelay = 2000;let textArrayIndex = 0;let charIndex = 0;function type(){if(charIndex < textArray[textArrayIndex].length){if(!cursorSpan.classList.contains('typing')){cursorSpan.classList.add('typing');}typedTextSpan.textContent += textArray[textArrayIndex].charAt(charIndex);charIndex++;setTimeout(type,typingDelay);}else{cursorSpan.classList.remove('typing');setTimeout(erase,newTextDelay);}}function erase(){if(charIndex > 0){if(!cursorSpan.classList.contains('typing')){cursorSpan.classList.add('typing');}typedTextSpan.textContent = textArray[textArrayIndex].substring(0,charIndex - 1);charIndex--;setTimeout(erase,erasingDelay);}else{cursorSpan.classList.remove('typing');textArrayIndex++;if(textArrayIndex >= textArray.length){textArrayIndex = 0;}setTimeout(type,typingDelay + 1100);}}if(textArray.length){setTimeout(type,newTextDelay + 250);}const navbar = document.querySelector('.navbar');const navLinks = document.querySelectorAll('.nav-link');const sections = document.querySelectorAll('section');window.addEventListener('scroll',function(){if(window.scrollY > 50){navbar.classList.add('scrolled');}else{navbar.classList.remove('scrolled');}let current = '';sections.forEach(section =>{const sectionTop = section.offsetTop - 100;const sectionHeight = section.clientHeight;if(pageYOffset >= sectionTop){current = section.getAttribute('id');}});navLinks.forEach(link =>{link.classList.remove('active');if(link.getAttribute('href').substring(1)=== current){link.classList.add('active');}});const backToTop = document.querySelector('.back-to-top');if(window.scrollY > 300){backToTop.classList.add('active');}else{backToTop.classList.remove('active');}});const menuToggle = document.querySelector('.menu-toggle');const navLinksContainer = document.querySelector('.nav-links');const navOverlay = document.querySelector('.nav-overlay');const body = document.body;function toggleMenu(){menuToggle.classList.toggle('active');navLinksContainer.classList.toggle('active');if(navOverlay){navOverlay.classList.toggle('active');}if(navLinksContainer.classList.contains('active')){body.style.overflow = 'hidden';}else{body.style.overflow = '';}}menuToggle.addEventListener('click',toggleMenu);if(navOverlay){navOverlay.addEventListener('click',function(){if(navLinksContainer.classList.contains('active')){toggleMenu();}});}document.addEventListener('click',function(e){const isMenuToggle = e.target.closest('.menu-toggle');const isNavLinks = e.target.closest('.nav-links');if(!isMenuToggle && !isNavLinks && navLinksContainer.classList.contains('active')){toggleMenu();}});navLinks.forEach(link =>{link.addEventListener('click',function(){if(navLinksContainer.classList.contains('active')){toggleMenu();}});});document.addEventListener('keydown',function(e){if(e.key === 'Escape' && navLinksContainer.classList.contains('active')){toggleMenu();}});const filterBtns = document.querySelectorAll('.filter-btn');const projectCards = document.querySelectorAll('.project-card');filterBtns.forEach(btn =>{btn.addEventListener('click',function(){filterBtns.forEach(btn => btn.classList.remove('active'));this.classList.add('active');const filterValue = this.getAttribute('data-filter');projectCards.forEach(card =>{if(filterValue === 'all' || card.getAttribute('data-category')=== filterValue){card.style.display = 'block';setTimeout(()=>{card.style.opacity = '1';card.style.transform = 'scale(1)';},100);}else{card.style.opacity = '0';card.style.transform = 'scale(0.8)';setTimeout(()=>{card.style.display = 'none';},300);}});});});const contactForm = document.getElementById('contactForm');const submitBtn = contactForm ? contactForm.querySelector('.submit-btn'):null;if(contactForm && submitBtn){contactForm.addEventListener('submit',function(e){e.preventDefault();const originalText = submitBtn.innerHTML;submitBtn.innerHTML = '<span>Sending...</span><i class="fas fa-spinner fa-spin"></i>';submitBtn.disabled = true;const formData = new FormData(contactForm);fetch(contactForm.action,{method:'POST',body:formData,headers:{'Accept':'application/json'}}).then(response =>{if(response.ok){contactForm.reset();submitBtn.innerHTML = '<span>Message Sent!</span><i class="fas fa-check"></i>';submitBtn.style.backgroundColor = '#28a745';showNotification('Thank you for your message! I will get back to you soon.','success');setTimeout(()=>{submitBtn.innerHTML = originalText;submitBtn.disabled = false;submitBtn.style.backgroundColor = '';},3000);}else{throw new Error('Network response was not ok');}}).catch(error =>{console.error('Error:',error);submitBtn.innerHTML = '<span>Try Again</span><i class="fas fa-exclamation-triangle"></i>';submitBtn.style.backgroundColor = '#dc3545';showNotification('Sorry,there was an error sending your message. Please try again.','error');setTimeout(()=>{submitBtn.innerHTML = originalText;submitBtn.disabled = false;submitBtn.style.backgroundColor = '';},3000);});});}function showNotification(message,type = 'info'){const notification = document.createElement('div');notification.className = `notification notification-${type}`;notification.innerHTML = ` <div class="notification-content"> <i class="fas ${type === 'success' ? 'fa-check-circle':type === 'error' ? 'fa-exclamation-circle':'fa-info-circle'}"></i> <span>${message}</span> </div> <button class="notification-close" onclick="this.parentElement.remove()"> <i class="fas fa-times"></i> </button> `;document.body.appendChild(notification);setTimeout(()=> notification.classList.add('show'),100);setTimeout(()=>{notification.classList.remove('show');setTimeout(()=> notification.remove(),300);},5000);}document.querySelectorAll('a[href^="#"]').forEach(anchor =>{anchor.addEventListener('click',function(e){e.preventDefault();const targetId = this.getAttribute('href');const targetElement = document.querySelector(targetId);if(targetElement){window.scrollTo({top:targetElement.offsetTop - 70,behavior:'smooth'});}});});menuToggle.addEventListener('click',function(){const bars = document.querySelectorAll('.bar');bars.forEach(bar => bar.classList.toggle('animate'));});const style = document.createElement('style');style.textContent = ` .menu-toggle.active .bar:nth-child(1){transform:translateY(9px)rotate(45deg);}.menu-toggle.active .bar:nth-child(2){opacity:0;}.menu-toggle.active .bar:nth-child(3){transform:translateY(-9px)rotate(-45deg);}`;document.head.appendChild(style);let touchStartX = 0;let touchEndX = 0;const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;if(isTouchDevice){document.addEventListener('touchstart',function(e){touchStartX = e.changedTouches[0].screenX;},false);document.addEventListener('touchend',function(e){touchEndX = e.changedTouches[0].screenX;handleSwipe();},false);}function handleSwipe(){const swipeThreshold = 100;const swipeRight = touchEndX - touchStartX > swipeThreshold;const swipeLeft = touchStartX - touchEndX > swipeThreshold;if(swipeRight && touchStartX < 50 && !navLinksContainer.classList.contains('active')){toggleMenu();}if(swipeLeft && navLinksContainer.classList.contains('active')){toggleMenu();}}window.addEventListener('resize',function(){if(window.innerWidth > 768 && navLinksContainer.classList.contains('active')){toggleMenu();}});});